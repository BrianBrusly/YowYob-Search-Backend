# ============================================
# YOWYOB SEARCH BACKEND - ENVIRONMENT VARIABLES EXAMPLE
# ============================================
# Auteur: YowYob Team 4GI-ENSPY Promo 2027
# Date de création: 01-12-2025
# ============================================
#
# ⚠️ INFORMATIONS IMPORTANTES DE SÉCURITÉ ⚠️
#
# CE FICHIER EST UN EXEMPLE - NE CONTIENT PAS LES VRAIES VALEURS
# 
# Pour des raisons de sécurité évidentes, les identifiants réels
# (mots de passe, clés secrètes, tokens d'API) ne sont JAMAIS stockés
# dans le dépôt Git. Cette pratique permet de :
# 1. Éviter l'exposition publique des données sensibles
# 2. Permettre à chaque développeur d'avoir ses propres identifiants
# 3. Faciliter la rotation des clés en production
# 4. Respecter les bonnes pratiques de sécurité DevOps
#
# ============================================

# =======================
# PROCÉDURE D'INSTALLATION
# =======================
#
# 1. Copier ce fichier en tant que `.env` :
#    ```
#    cp .env.example .env
#    ```
#
# 2. Pour obtenir les VRAIES VALEURS (environnement de développement) :
#    - Contacter **Brian Brusly** (Responsable Technique)
#    - Via WhatsApp/Teams : +237 6XX XX XX XX
#    - Email : brian.brusly@4gi-enspy.org
#
# 3. Demander le fichier `.env.local.example` qui contient :
#    - Les identifiants de développement partagés par l'équipe
#    - Les clés API temporaires pour les services externes
#    - Les configurations spécifiques à l'environnement ENSPY
#
# 4. En production, chaque service aura ses propres identifiants :
#    - Base de données : identifiants générés par l'infrastructure
#    - APIs externes : clés spécifiques à l'environnement
#    - SMTP : compte dédié avec authentification sécurisée
#
# ============================================

# =======================
# DATABASE CONFIGURATION
# =======================
# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=yowyob_db
POSTGRES_USER=DEMANDER_A_BRIAN_BRUSLY
POSTGRES_PASSWORD=DEMANDER_A_BRIAN_BRUSLY

# PostgreSQL Pool Configuration
POSTGRES_MAX_POOL_SIZE=10
POSTGRES_MIN_IDLE=2
POSTGRES_CONNECTION_TIMEOUT=30000
POSTGRES_IDLE_TIMEOUT=600000

# =======================
# ELASTICSEARCH CONFIGURATION
# =======================
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_SCHEME=http
ELASTICSEARCH_USERNAME=yowyob_elastic
ELASTICSEARCH_PASSWORD=DEMANDER_A_BRIAN_BRUSLY

# Elasticsearch Indices
ELASTICSEARCH_INDEX_DOCUMENTS=yowyob-documents
ELASTICSEARCH_INDEX_PRODUCTS=yowyob-products
ELASTICSEARCH_INDEX_USERS=yowyob-users

# =======================
# REDIS CONFIGURATION
# =======================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=DEMANDER_A_BRIAN_BRUSLY
REDIS_DATABASE=0
REDIS_TIMEOUT=2000
REDIS_MAX_TOTAL=8
REDIS_MAX_IDLE=8
REDIS_MIN_IDLE=0

# Redis Cache TTLs (in seconds)
REDIS_CACHE_TTL_SEARCH=300
REDIS_CACHE_TTL_USER=1800
REDIS_CACHE_TTL_GEO=86400

# =======================
# KAFKA CONFIGURATION
# =======================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_CONSUMER_GROUP_PREFIX=yowyob-group

# Kafka Topics
KAFKA_TOPIC_SEARCH_QUERIES=search-queries
KAFKA_TOPIC_DOCUMENT_INDEXED=document-indexed
KAFKA_TOPIC_PRODUCT_INDEX=product-index
KAFKA_TOPIC_PRODUCT_CLICKS=product-clicks
KAFKA_TOPIC_MERCHANT_REDIRECTS=merchant-redirects
KAFKA_TOPIC_NOTIFICATIONS=notifications
KAFKA_TOPIC_USER_EVENTS=user-events

# =======================
# JWT SECURITY CONFIGURATION
# =======================
JWT_SECRET=DEMANDER_A_BRIAN_BRUSLY_OU_GENERER_UNE_CLE_LOCALE
JWT_EXPIRATION_MS=900000
JWT_REFRESH_EXPIRATION_MS=604800000
JWT_ISSUER=yowyob-search
JWT_AUDIENCE=yowyob-clients

# BCrypt Configuration
BCRYPT_ROUNDS=12

# =======================
# EXTERNAL APIS CONFIGURATION
# =======================
# OpenStreetMap Nominatim
NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org
NOMINATIM_RATE_LIMIT=1000
NOMINATIM_USER_AGENT=yowyob-search/1.0

# =======================
# SMTP / EMAIL CONFIGURATION
# =======================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=DEMANDER_A_BRIAN_BRUSLY
SMTP_PASSWORD=DEMANDER_A_BRIAN_BRUSLY
SMTP_PROTOCOL=smtp
SMTP_AUTH=true
SMTP_STARTTLS_ENABLE=true
SMTP_DEBUG=false

# Email Templates
EMAIL_FROM=DEMANDER_A_BRIAN_BRUSLY
EMAIL_FROM_NAME=YowYob Search Team - 4GI ENSPY Promo 2027

# =======================
# VAPID (WEB PUSH) CONFIGURATION
# =======================
# Pour générer vos propres clés locales : 
# npm install -g web-push && web-push generate-vapid-keys
VAPID_PUBLIC_KEY=DEMANDER_A_BRIAN_BRUSLY
VAPID_PRIVATE_KEY=DEMANDER_A_BRIAN_BRUSLY
VAPID_SUBJECT=mailto:contact@yowyob.com

# =======================
# APPLICATION CONFIGURATION
# =======================
# Server Ports (default values)
API_GATEWAY_PORT=8080
SEARCH_SERVICE_PORT=8082
USER_SERVICE_PORT=8083
GEO_SERVICE_PORT=8084
CRAWLER_SERVICE_PORT=8085
NOTIFICATION_SERVICE_PORT=8086
SHOP_SERVICE_PORT=8087
STATS_SERVICE_PORT=8088

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_CAPACITY=20

# =======================
# MONITORING CONFIGURATION
# =======================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_METRICS_PATH=/actuator/prometheus

# Micrometer
MICROMETER_ENABLED=true
MICROMETER_EXPORT_PROMETHEUS=true

# Logging
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_COM_YOWYOB=DEBUG
LOG_LEVEL_ORG_SPRINGFRAMEWORK_WEB=INFO
LOG_LEVEL_ORG_HIBERNATE=WARN

# =======================
# CRAWLER CONFIGURATION
# =======================
CRAWLER_MAX_DEPTH=3
CRAWLER_MAX_PAGES_PER_DOMAIN=100
CRAWLER_POLITENESS_DELAY_MS=1000
CRAWLER_USER_AGENT=Mozilla/5.0 (compatible; YowYobBot/1.0; +https://yowyob.com/bot)
CRAWLER_TIMEOUT_MS=10000
CRAWLER_MAX_RETRIES=3

# =======================
# SHOP SERVICE CONFIGURATION
# =======================
SHOP_MAX_PRODUCTS_PER_PAGE=50
SHOP_PRICE_COMPARISON_ENABLED=true
SHOP_SCRAPING_ENABLED=true
SHOP_SCRAPING_TIMEOUT_MS=5000

# =======================
# PROFILE SPECIFIC
# =======================
# Uncomment for production
# SPRING_PROFILES_ACTIVE=prod
# LOG_LEVEL_ROOT=WARN
# CRAWLER_POLITENESS_DELAY_MS=2000

# =======================
# DEVELOPMENT OVERRIDES
# =======================
# Uncomment for development
# SPRING_PROFILES_ACTIVE=dev
# LOG_LEVEL_COM_YOWYOB=TRACE
# CRAWLER_POLITENESS_DELAY_MS=500

# ============================================
#  POINTS DE CONTACT POUR LES VRAIES VALEURS
# ============================================
#
# 1. **Brian Brusly** - Responsable Technique
#    - WhatsApp : +237 6XX XX XX XX
#    - Email : example@mail.com
#    - Teams : Brian Brusly (4GI-ENSPY)
#
# 2. **Chef de Projet** - Coordination générale
#    - Disponible via le groupe WhatsApp de l'équipe
#
# 3. **Canal de communication préféré** :
#    - Groupe WhatsApp
#
# 4. **Pourquoi cette procédure ?**
#    - Sécurité : Évite l'exposition des identifiants
#    - Contrôle : Permet de gérer les accès
#    - Traçabilité : On sait qui a quelles informations
#    - Flexibilité : Chacun peut avoir son environnement local
#
# ============================================
#  PROCÉDURE COMPLÈTE
# ============================================
#
# ÉTAPE 1 - Configuration initiale :
#   git clone https://github.com/BrianBrusly/YowYob-Search-Backend.git
#   cd YowYob-Search-Backend
#   cp .env.example .env
#
# ÉTAPE 2 - Demande des identifiants :
#   Contacter Brian Brusly via WhatsApp/Teams
#   Demander le fichier ".env.local.example"
#
# ÉTAPE 3 - Remplissage du fichier .env :
#   Copier les valeurs de .env.local.example dans votre .env
#   OU utiliser les identifiants fournis oralement
#
# ÉTAPE 4 - Vérification :
#   Assurez-vous que votre .env est dans .gitignore
#   Vérifier que vous pouvez vous connecter aux services
#   Lancer les tests : `mvn test` ou `./scripts/start-all-services.sh`
#
# ÉTAPE 5 - En cas de problème :
#   1. Vérifier les ports des services (PostgreSQL, Redis, etc.)
#   2. Vérifier que Docker est en cours d'exécution (si utilisé)
#   3. Consulter les logs : `docker-compose logs <service>`
#   4. Recontacter l'équipe technique
#
# ============================================
#  LIENS UTILES
# ============================================
#
# - Documentation complète : /docs/README.md
# - API Swagger : http://localhost:8082/swagger-ui.html
# - Monitoring : http://localhost:8080/actuator/health
# - Architecture détaillée : /docs/ARCHITECTURE.md
#
# ============================================
#  POUR LA PRODUCTION
# ============================================
#
# Pour l'environnement de production, référez-vous au repository
# YowYob-Search-Infrastructure qui gère :
# - Les variables d'environnement Kubernetes
# - Les secrets managés
# - La configuration cloud-native
# - Les certificats SSL/TLS
#
# ============================================